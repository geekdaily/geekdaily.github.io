<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>LiveBlog: Surviving the 2008 Elections at DailyKos.com &#8211; geek!daily</title>
<meta name="description" content="More from Velocity 2009:Jeremy Bingham, DailyKos.com


Before the flood
	
	fell over a lot
		took a lot of admin time
		slow load times
	



MySQL issues
	
	legacy tables from nearly-decade-old Slash with bad primary keys
		many MySQL 3.23isms—didn’t use any newer features
		had to stop believing “things are there for a reason” (e.g. fulltext index: 9GB data, 17GB index)
		keep all the old URLs working
	


	IA Caucus first big night


Caching
	
	Started with apache 1.3 as proxy, disk caching with push to disk
		Brought site to its knees as everything updated cache in sync
		switched to lighttpd using Vua, mod_magnet
		switched to mod_mcpage, cache pages only
	



Hardware
	
	10 2x Xeons 2GB, 2 2x Opterons 8GB, image/memcached/combined search/SMTP server
		All independent, update separately
		updated to 6 4x Xeons 8GB, 2 8x Xeons 16GB, RAID 10 with well-tuned xfs for DB
	


	Traffic more than doubled at election peak over normal monthly, almost 3x


	People liked to talk about Sarah Palin … a lot. How nice that she provided things to talk about.


Changes were in place by April 2008/Pennsylvania primary
	
	perf was good
		flash electoral map was on 100Mb switch
		webhead loads ~0.5-1.8
		Ads and map added some slowdowns
	

">
<meta name="keywords" content="">



<!-- Twitter Cards -->
<meta name="twitter:title" content="LiveBlog: Surviving the 2008 Elections at DailyKos.com">
<meta name="twitter:description" content="More from Velocity 2009:Jeremy Bingham, DailyKos.com


Before the flood
	
	fell over a lot
		took a lot of admin time
		slow load times
	



MySQL issues
	
	legacy tables from nearly-decade-old Slash with bad primary keys
		many MySQL 3.23isms—didn’t use any newer features
		had to stop believing “things are there for a reason” (e.g. fulltext index: 9GB data, 17GB index)
		keep all the old URLs working
	


	IA Caucus first big night


Caching
	
	Started with apache 1.3 as proxy, disk caching with push to disk
		Brought site to its knees as everything updated cache in sync
		switched to lighttpd using Vua, mod_magnet
		switched to mod_mcpage, cache pages only
	



Hardware
	
	10 2x Xeons 2GB, 2 2x Opterons 8GB, image/memcached/combined search/SMTP server
		All independent, update separately
		updated to 6 4x Xeons 8GB, 2 8x Xeons 16GB, RAID 10 with well-tuned xfs for DB
	


	Traffic more than doubled at election peak over normal monthly, almost 3x


	People liked to talk about Sarah Palin … a lot. How nice that she provided things to talk about.


Changes were in place by April 2008/Pennsylvania primary
	
	perf was good
		flash electoral map was on 100Mb switch
		webhead loads ~0.5-1.8
		Ads and map added some slowdowns
	

">
<meta name="twitter:site" content="@purp">
<meta name="twitter:creator" content="@purp">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.geekdaily.org/images/site-logo.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="LiveBlog: Surviving the 2008 Elections at DailyKos.com">
<meta property="og:description" content="More from Velocity 2009:Jeremy Bingham, DailyKos.com


Before the flood
	
	fell over a lot
		took a lot of admin time
		slow load times
	



MySQL issues
	
	legacy tables from nearly-decade-old Slash with bad primary keys
		many MySQL 3.23isms—didn’t use any newer features
		had to stop believing “things are there for a reason” (e.g. fulltext index: 9GB data, 17GB index)
		keep all the old URLs working
	


	IA Caucus first big night


Caching
	
	Started with apache 1.3 as proxy, disk caching with push to disk
		Brought site to its knees as everything updated cache in sync
		switched to lighttpd using Vua, mod_magnet
		switched to mod_mcpage, cache pages only
	



Hardware
	
	10 2x Xeons 2GB, 2 2x Opterons 8GB, image/memcached/combined search/SMTP server
		All independent, update separately
		updated to 6 4x Xeons 8GB, 2 8x Xeons 16GB, RAID 10 with well-tuned xfs for DB
	


	Traffic more than doubled at election peak over normal monthly, almost 3x


	People liked to talk about Sarah Palin … a lot. How nice that she provided things to talk about.


Changes were in place by April 2008/Pennsylvania primary
	
	perf was good
		flash electoral map was on 100Mb switch
		webhead loads ~0.5-1.8
		Ads and map added some slowdowns
	

">
<meta property="og:url" content="http://blog.geekdaily.org/2009/06/liveblog-surviving-the-2008-elections-at-dailykos-com.html">
<meta property="og:site_name" content="geek!daily">





<link rel="canonical" href="http://blog.geekdaily.org/2009/06/liveblog-surviving-the-2008-elections-at-dailykos-com.html">
<link href="http://blog.geekdaily.org/feed.xml" type="application/atom+xml" rel="alternate" title="geek!daily Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://blog.geekdaily.org/assets/css/main.css">
<!-- Webfonts -->
<script src="//use.edgefonts.net/source-sans-pro:n2,i2,n3,i3,n4,i4,n6,i6,n7,i7,n9,i9;source-code-pro:n4,n7;volkhov.js"></script>

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="http://blog.geekdaily.org/assets/js/vendor/html5shiv.min.js"></script>
  <script src="http://blog.geekdaily.org/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://blog.geekdaily.org/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://blog.geekdaily.org/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://blog.geekdaily.org/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://blog.geekdaily.org/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://blog.geekdaily.org/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://blog.geekdaily.org/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://blog.geekdaily.org/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body id="post">

<div class="navigation-wrapper">
	<nav role="navigation" id="site-nav" class="animated drop">
	    <ul>
      
		    
		        
		    
		    <li><a href="http://blog.geekdaily.org/" >Home</a></li>
		  
		    
		        
		    
		    <li><a href="http://blog.geekdaily.org/articles/" >Articles</a></li>
		  
		    
		        
		    
		    <li><a href="http://blog.geekdaily.org/projects/" >Projects</a></li>
		  
		    
		        
		    
		    <li><a href="http://blog.geekdaily.org/blog/" >Blog</a></li>
		  
		    
		        
		    
		    <li><a href="http://blog.geekdaily.org/about/" >About</a></li>
		  
	    </ul>
	</nav>
</div><!-- /.navigation-wrapper -->

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->

<header class="masthead">
	<div class="wrap">
      
  		<a href="http://blog.geekdaily.org/" class="site-logo" rel="home" title="geek!daily"><img src="http://blog.geekdaily.org/images/site-logo.png" width="200" height="200" alt="geek!daily logo" class="animated fadeInDown"></a>
      
      <h1 class="site-title animated fadeIn"><a href="http://blog.geekdaily.org/">geek!daily</a></h1>
		<h2 class="site-description animated fadeIn" itemprop="description">sporadic bursts of random thinking on life, leadership, and tech</h2>
	</div>
</header><!-- /.masthead -->

<div class="js-menu-screen menu-screen"></div>


<div id="main" role="main">
  <article class="hentry">
    
    <div class="entry-wrapper">
      <header class="entry-header">
        <span class="entry-tags"></span>
        
          <h1 class="entry-title">LiveBlog: Surviving the 2008 Elections at DailyKos.com</h1>
        
      </header>
      <footer class="entry-meta">
        
        
        
          <img src="http://blog.geekdaily.org/images/jim_meyer_headshot.jpg" class="bio-photo" alt="Jim Meyer bio photo"></a>
        
        <span class="author vcard">By <span class="fn">Jim Meyer</span></span>
        <span class="entry-date date published"><time datetime="2009-06-23T00:00:00-07:00"><i class="fa fa-calendar-o"></i> June 23, 2009</time></span>
        
        
        
        
      </footer>
      <div class="entry-content">
        <p>More from Velocity 2009:</p><p>Jeremy Bingham, DailyKos.com</p><p>


Before the flood
	</p><ul>
	<li>fell over a lot</li>
		<li>took a lot of admin time</li>
		<li>slow load times</li>
	</ul>
<p>


MySQL issues
	</p><ul>
	<li>legacy tables from nearly-decade-old Slash with bad primary keys</li>
		<li>many MySQL 3.23isms—didn’t use any newer features</li>
		<li>had to stop believing “things are there for a reason” (e.g. fulltext index: 9GB data, 17GB index)</li>
		<li>keep all the old URLs working</li>
	</ul>


	<p>IA Caucus first big night</p><p>


Caching
	</p><ul>
	<li>Started with apache 1.3 as proxy, disk caching with push to disk</li>
		<li>Brought site to its knees as everything updated cache in sync</li>
		<li>switched to lighttpd using Vua, mod_magnet</li>
		<li>switched to mod_mcpage, cache pages only</li>
	</ul>
<p>


Hardware
	</p><ul>
	<li>10 2x Xeons 2GB, 2 2x Opterons 8GB, image/memcached/combined search/SMTP server</li>
		<li>All independent, update separately</li>
		<li>updated to 6 4x Xeons 8GB, 2 8x Xeons 16GB, <span class="caps">RAID 10</span> with well-tuned xfs for DB</li>
	</ul>


	<p>Traffic more than doubled at election peak over normal monthly, almost 3x</p>


	<p>People liked to talk about Sarah Palin … a lot. How nice that she provided things to talk about.</p><p>


Changes were in place by April 2008/Pennsylvania primary
	</p><ul>
	<li>perf was good</li>
		<li>flash electoral map was on 100Mb switch</li>
		<li>webhead loads ~0.5-1.8</li>
		<li>Ads and map added some slowdowns</li>
	</ul>


        
      </div><!-- /.entry-content -->
    </div><!-- /.entry-wrapper -->
    <nav class="pagination" role="navigation">
      
        <a href="http://blog.geekdaily.org/2009/06/liveblog-q-a-with-twitter-s-john-adams.html" class="btn" title="LiveBlog: Q&A with Twitter's John Adams">Previous</a>
      
      
        <a href="http://blog.geekdaily.org/2009/06/liveblog-the-user-and-business-impact-of-server-delays-additional-bytes-and-http-chunking-in-web-search.html" class="btn" title="LiveBlog: The User and Business Impact of Server Delays, Additional Bytes, and HTTP Chunking in Web Search">Next</a>
      
    </nav><!-- /.pagination -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo" class="entry-wrapper">
    

<span>&copy; 2015 Jim Meyer. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/so-simple/" rel="nofollow">So Simple Theme</a>.</span>
<div class="social-icons">
	<a href="http://twitter.com/purp" title="Jim Meyer on Twitter" target="_blank"><i class="fa fa-twitter-square fa-2x"></i></a>
	
	
	<a href="http://linkedin.com/in/jimmeyer" title="Jim Meyer on LinkedIn" target="_blank"><i class="fa fa-linkedin-square fa-2x"></i></a>
	
	<a href="http://instagram.com/purp" title="Jim Meyer on Instagram" target="_blank"><i class="fa fa-instagram fa-2x"></i></a>
	<a href="http://www.flickr.com/photos/purp" title="Jim Meyer on Flickr" target="_blank"><i class="fa fa-flickr fa-2x"></i></a>
	<a href="http://github.com/purp" title="Jim Meyer on Github" target="_blank"><i class="fa fa-github-square fa-2x"></i></a>
	
	
  <a href="http://blog.geekdaily.org/feed.xml" title="Atom/RSS feed"><i class="fa fa-rss-square fa-2x"></i></a>
</div><!-- /.social-icons -->
  </footer>
</div><!-- /.footer-wrapper -->

<script type="text/javascript">
  var BASE_URL = 'http://blog.geekdaily.org';
</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://blog.geekdaily.org/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://blog.geekdaily.org/assets/js/scripts.min.js"></script>




</body>
</html>
